console.log("TEST store");
import { Task } from "./task";
import { Project } from "./project";

export function storeData(lstProjects, lstTask){
    if (lstProjects.length > 0) {
        localStorage.setItem("projects", JSON.stringify(lstProjects));
    }
    if (lstTask.length > 0) {
        localStorage.setItem("tasks", JSON.stringify(lstTask));
    }
}


export function extractData(){
    let lstTask = [];
    let lstProject = [];
    if (localStorage.getItem('tasks')) {
        const task_hist = JSON.parse(localStorage.getItem('tasks'));
        for (const task of task_hist) {
            lstTask.push(new Task(...Object.values(task)));
        }
    }
    if (localStorage.getItem('projects')) {
        const project_hist = JSON.parse(localStorage.getItem('projects'));
        for (const project of project_hist) {
            lstProject.push(new Project(...Object.values(project)));
        }
    }
    return [lstProject, lstTask]
}

export function resetData(taskRST, projectRST) {
    if (taskRST) {
        localStorage.removeItem("tasks");
    }
    if (projectRST) {
        localStorage.removeItem("projects");
    }
}